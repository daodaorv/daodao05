# ç§»åŠ¨ç®¡ç†ç«¯æ‰‹åŠ¿æ“ä½œæŒ‡å—

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0.0 | **åˆ›å»ºæ—¶é—´**: 2025-12-06

---

## ğŸ“‹ ç›®å½•

1. [æ»‘åŠ¨åˆ é™¤](#æ»‘åŠ¨åˆ é™¤)
2. [é•¿æŒ‰èœå•](#é•¿æŒ‰èœå•)
3. [ä¸‹æ‹‰åˆ·æ–°](#ä¸‹æ‹‰åˆ·æ–°)
4. [ä¸Šæ‹‰åŠ è½½](#ä¸Šæ‹‰åŠ è½½)
5. [æœ€ä½³å®è·µ](#æœ€ä½³å®è·µ)

---

## ğŸ”„ æ»‘åŠ¨åˆ é™¤

### ä½¿ç”¨ SwipeAction ç»„ä»¶

SwipeAction ç»„ä»¶æä¾›æµç•…çš„æ»‘åŠ¨åˆ é™¤åŠŸèƒ½ï¼Œæ”¯æŒè‡ªå®šä¹‰æ“ä½œæŒ‰é’®ã€‚

#### åŸºæœ¬ä½¿ç”¨

```vue
<template>
  <SwipeAction
    :actions="actions"
    @action-click="handleActionClick"
  >
    <view class="list-item">
      <text>è®¢å• #12345</text>
    </view>
  </SwipeAction>
</template>

<script>
import SwipeAction from '@/components/common/SwipeAction.vue'

export default {
  components: {
    SwipeAction
  },
  data() {
    return {
      actions: [
        {
          text: 'ç¼–è¾‘',
          type: 'primary',
          icon: 'âœï¸',
          width: 80
        },
        {
          text: 'åˆ é™¤',
          type: 'danger',
          icon: 'ğŸ—‘ï¸',
          width: 80
        }
      ]
    }
  },
  methods: {
    handleActionClick({ action, index }) {
      if (action.text === 'åˆ é™¤') {
        this.deleteItem()
      } else if (action.text === 'ç¼–è¾‘') {
        this.editItem()
      }
    }
  }
}
</script>
```

#### ç»„ä»¶å±æ€§

| å±æ€§ | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|--------|------|
| actions | Array | [] | æ“ä½œæŒ‰é’®é…ç½® |
| disabled | Boolean | false | æ˜¯å¦ç¦ç”¨æ»‘åŠ¨ |
| threshold | Number | 30 | æ»‘åŠ¨é˜ˆå€¼ï¼ˆpxï¼‰ |
| autoClose | Boolean | true | æ˜¯å¦è‡ªåŠ¨å…³é—­å…¶ä»–é¡¹ |

#### æ“ä½œæŒ‰é’®é…ç½®

```javascript
{
  text: 'åˆ é™¤',           // æŒ‰é’®æ–‡å­—
  type: 'danger',         // æŒ‰é’®ç±»å‹: default/primary/success/warning/danger/info
  icon: 'ğŸ—‘ï¸',            // æŒ‰é’®å›¾æ ‡
  width: 80,              // æŒ‰é’®å®½åº¦
  backgroundColor: '',    // è‡ªå®šä¹‰èƒŒæ™¯è‰²
  autoClose: true        // ç‚¹å‡»åæ˜¯å¦è‡ªåŠ¨å…³é—­
}
```

#### äº‹ä»¶

- `@action-click` - ç‚¹å‡»æ“ä½œæŒ‰é’®æ—¶è§¦å‘
- `@open` - æ»‘åŠ¨æ‰“å¼€æ—¶è§¦å‘
- `@close` - æ»‘åŠ¨å…³é—­æ—¶è§¦å‘

#### æ–¹æ³•

```javascript
// æ‰“å¼€æ»‘åŠ¨èœå•
this.$refs.swipeAction.open()

// å…³é—­æ»‘åŠ¨èœå•
this.$refs.swipeAction.close()
```

#### å®Œæ•´ç¤ºä¾‹

```vue
<template>
  <view class="order-list">
    <SwipeAction
      v-for="order in orders"
      :key="order.id"
      :actions="getActions(order)"
      @action-click="handleAction(order, $event)"
    >
      <view class="order-item">
        <view class="order-info">
          <text class="order-number">è®¢å•å·: {{ order.orderNumber }}</text>
          <text class="order-status">{{ order.statusText }}</text>
        </view>
        <view class="order-amount">Â¥{{ order.amount }}</view>
      </view>
    </SwipeAction>
  </view>
</template>

<script>
export default {
  data() {
    return {
      orders: []
    }
  },
  methods: {
    getActions(order) {
      const actions = []

      if (order.status === 'pending') {
        actions.push({
          text: 'æ¥å•',
          type: 'success',
          icon: 'âœ“',
          width: 80
        })
      }

      actions.push({
        text: 'è¯¦æƒ…',
        type: 'primary',
        icon: 'ğŸ‘ï¸',
        width: 80
      })

      if (order.canCancel) {
        actions.push({
          text: 'å–æ¶ˆ',
          type: 'danger',
          icon: 'âœ•',
          width: 80
        })
      }

      return actions
    },

    handleAction(order, { action }) {
      switch (action.text) {
        case 'æ¥å•':
          this.acceptOrder(order)
          break
        case 'è¯¦æƒ…':
          this.viewDetail(order)
          break
        case 'å–æ¶ˆ':
          this.cancelOrder(order)
          break
      }
    }
  }
}
</script>
```

---

## ğŸ‘† é•¿æŒ‰èœå•

### ä½¿ç”¨ LongPressMenu ç»„ä»¶

LongPressMenu ç»„ä»¶æä¾›é•¿æŒ‰è§¦å‘èœå•åŠŸèƒ½ï¼Œæ”¯æŒéœ‡åŠ¨åé¦ˆå’Œè‡ªå®šä¹‰èœå•é¡¹ã€‚

#### åŸºæœ¬ä½¿ç”¨

```vue
<template>
  <LongPressMenu
    :menu-items="menuItems"
    title="é€‰æ‹©æ“ä½œ"
    @menu-click="handleMenuClick"
  >
    <view class="vehicle-card">
      <text>è½¦è¾†ä¿¡æ¯</text>
    </view>
  </LongPressMenu>
</template>

<script>
import LongPressMenu from '@/components/common/LongPressMenu.vue'

export default {
  components: {
    LongPressMenu
  },
  data() {
    return {
      menuItems: [
        {
          text: 'ç¼–è¾‘',
          icon: 'âœï¸',
          value: 'edit'
        },
        {
          text: 'åˆ†äº«',
          icon: 'ğŸ“¤',
          value: 'share'
        },
        {
          text: 'åˆ é™¤',
          icon: 'ğŸ—‘ï¸',
          value: 'delete'
        }
      ]
    }
  },
  methods: {
    handleMenuClick({ item, index }) {
      console.log('é€‰æ‹©äº†:', item.text)

      switch (item.value) {
        case 'edit':
          this.editVehicle()
          break
        case 'share':
          this.shareVehicle()
          break
        case 'delete':
          this.deleteVehicle()
          break
      }
    }
  }
}
</script>
```

#### ç»„ä»¶å±æ€§

| å±æ€§ | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|--------|------|
| menuItems | Array | [] | èœå•é¡¹é…ç½® |
| title | String | '' | èœå•æ ‡é¢˜ |
| showCancel | Boolean | true | æ˜¯å¦æ˜¾ç¤ºå–æ¶ˆæŒ‰é’® |
| duration | Number | 500 | é•¿æŒ‰è§¦å‘æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ |
| vibrate | Boolean | true | æ˜¯å¦å¯ç”¨éœ‡åŠ¨åé¦ˆ |
| disabled | Boolean | false | æ˜¯å¦ç¦ç”¨ |
| position | String | 'center' | èœå•ä½ç½®: center/bottom |

#### èœå•é¡¹é…ç½®

```javascript
{
  text: 'ç¼–è¾‘',           // èœå•æ–‡å­—
  icon: 'âœï¸',            // èœå•å›¾æ ‡
  value: 'edit',         // èœå•å€¼
  disabled: false,       // æ˜¯å¦ç¦ç”¨
  badge: '',             // å¾½ç« æ–‡å­—
  autoClose: true        // ç‚¹å‡»åæ˜¯å¦è‡ªåŠ¨å…³é—­
}
```

#### äº‹ä»¶

- `@long-press` - é•¿æŒ‰è§¦å‘æ—¶
- `@menu-click` - ç‚¹å‡»èœå•é¡¹æ—¶è§¦å‘
- `@close` - èœå•å…³é—­æ—¶è§¦å‘

#### å®Œæ•´ç¤ºä¾‹

```vue
<template>
  <view class="vehicle-list">
    <LongPressMenu
      v-for="vehicle in vehicles"
      :key="vehicle.id"
      :menu-items="getMenuItems(vehicle)"
      :title="`è½¦è¾† ${vehicle.plateNumber}`"
      position="bottom"
      @menu-click="handleVehicleMenu(vehicle, $event)"
    >
      <view class="vehicle-card">
        <image :src="vehicle.image" class="vehicle-image" />
        <view class="vehicle-info">
          <text class="vehicle-name">{{ vehicle.name }}</text>
          <text class="vehicle-plate">{{ vehicle.plateNumber }}</text>
          <text class="vehicle-status">{{ vehicle.statusText }}</text>
        </view>
      </view>
    </LongPressMenu>
  </view>
</template>

<script>
export default {
  data() {
    return {
      vehicles: []
    }
  },
  methods: {
    getMenuItems(vehicle) {
      const items = [
        {
          text: 'æŸ¥çœ‹è¯¦æƒ…',
          icon: 'ğŸ‘ï¸',
          value: 'view'
        },
        {
          text: 'ç¼–è¾‘ä¿¡æ¯',
          icon: 'âœï¸',
          value: 'edit'
        }
      ]

      if (vehicle.status === 'available') {
        items.push({
          text: 'æ´¾å•',
          icon: 'ğŸ“‹',
          value: 'dispatch'
        })
      }

      if (vehicle.canDelete) {
        items.push({
          text: 'åˆ é™¤',
          icon: 'ğŸ—‘ï¸',
          value: 'delete'
        })
      }

      return items
    },

    handleVehicleMenu(vehicle, { item }) {
      switch (item.value) {
        case 'view':
          this.viewVehicle(vehicle)
          break
        case 'edit':
          this.editVehicle(vehicle)
          break
        case 'dispatch':
          this.dispatchVehicle(vehicle)
          break
        case 'delete':
          this.deleteVehicle(vehicle)
          break
      }
    }
  }
}
</script>
```

---

## â¬‡ï¸ ä¸‹æ‹‰åˆ·æ–°

### ä½¿ç”¨ RefreshList ç»„ä»¶

RefreshList ç»„ä»¶æä¾›æµç•…çš„ä¸‹æ‹‰åˆ·æ–°å’Œä¸Šæ‹‰åŠ è½½åŠŸèƒ½ã€‚

#### åŸºæœ¬ä½¿ç”¨

```vue
<template>
  <RefreshList
    :is-empty="list.length === 0"
    :no-more="noMore"
    @refresh="handleRefresh"
    @load-more="handleLoadMore"
  >
    <view v-for="item in list" :key="item.id" class="list-item">
      <text>{{ item.name }}</text>
    </view>
  </RefreshList>
</template>

<script>
import RefreshList from '@/components/common/RefreshList.vue'

export default {
  components: {
    RefreshList
  },
  data() {
    return {
      list: [],
      page: 1,
      pageSize: 20,
      noMore: false
    }
  },
  mounted() {
    this.loadData()
  },
  methods: {
    async handleRefresh() {
      this.page = 1
      this.noMore = false
      await this.loadData()
    },

    async handleLoadMore() {
      this.page++
      await this.loadData()
    },

    async loadData() {
      try {
        const res = await this.$api.getList({
          page: this.page,
          pageSize: this.pageSize
        })

        if (this.page === 1) {
          this.list = res.data.list
        } else {
          this.list.push(...res.data.list)
        }

        // åˆ¤æ–­æ˜¯å¦è¿˜æœ‰æ›´å¤šæ•°æ®
        if (res.data.list.length < this.pageSize) {
          this.noMore = true
        }
      } catch (error) {
        console.error('åŠ è½½å¤±è´¥:', error)
      }
    }
  }
}
</script>
```

#### ç»„ä»¶å±æ€§

| å±æ€§ | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|--------|------|
| enableRefresh | Boolean | true | æ˜¯å¦å¯ç”¨ä¸‹æ‹‰åˆ·æ–° |
| enableLoadMore | Boolean | true | æ˜¯å¦å¯ç”¨ä¸Šæ‹‰åŠ è½½ |
| showLoadMore | Boolean | true | æ˜¯å¦æ˜¾ç¤ºä¸Šæ‹‰åŠ è½½ |
| isEmpty | Boolean | false | æ˜¯å¦ä¸ºç©º |
| noMore | Boolean | false | æ˜¯å¦æ²¡æœ‰æ›´å¤šæ•°æ® |
| refreshThreshold | Number | 80 | ä¸‹æ‹‰åˆ·æ–°é˜ˆå€¼ï¼ˆpxï¼‰ |
| lowerThreshold | Number | 100 | ä¸Šæ‹‰åŠ è½½é˜ˆå€¼ï¼ˆpxï¼‰ |
| height | String | '100vh' | å®¹å™¨é«˜åº¦ |

#### äº‹ä»¶

- `@refresh` - ä¸‹æ‹‰åˆ·æ–°æ—¶è§¦å‘
- `@load-more` - ä¸Šæ‹‰åŠ è½½æ—¶è§¦å‘
- `@scroll` - æ»šåŠ¨æ—¶è§¦å‘

#### æ–¹æ³•

```javascript
// æ‰‹åŠ¨è§¦å‘åˆ·æ–°
this.$refs.refreshList.refresh()

// å®Œæˆåˆ·æ–°
this.$refs.refreshList.finishRefresh()

// å®ŒæˆåŠ è½½
this.$refs.refreshList.finishLoadMore()

// è®¾ç½®æ²¡æœ‰æ›´å¤š
this.$refs.refreshList.setNoMore()

// é‡ç½®åŠ è½½çŠ¶æ€
this.$refs.refreshList.resetLoadMore()
```

#### è‡ªå®šä¹‰ç©ºçŠ¶æ€

```vue
<RefreshList :is-empty="list.length === 0">
  <!-- åˆ—è¡¨å†…å®¹ -->
  <view v-for="item in list" :key="item.id">
    {{ item.name }}
  </view>

  <!-- è‡ªå®šä¹‰ç©ºçŠ¶æ€ -->
  <template #empty>
    <view class="custom-empty">
      <image src="/static/empty.png" class="empty-image" />
      <text class="empty-text">æš‚æ— è®¢å•</text>
      <button @tap="goToCreate">åˆ›å»ºè®¢å•</button>
    </view>
  </template>
</RefreshList>
```

#### å®Œæ•´ç¤ºä¾‹

```vue
<template>
  <view class="page">
    <RefreshList
      ref="refreshList"
      :is-empty="orders.length === 0"
      :no-more="noMore"
      height="calc(100vh - 88rpx)"
      @refresh="handleRefresh"
      @load-more="handleLoadMore"
    >
      <view v-for="order in orders" :key="order.id" class="order-item">
        <view class="order-header">
          <text class="order-number">{{ order.orderNumber }}</text>
          <text class="order-status">{{ order.statusText }}</text>
        </view>
        <view class="order-content">
          <text class="order-vehicle">{{ order.vehicleName }}</text>
          <text class="order-time">{{ order.startTime }} - {{ order.endTime }}</text>
        </view>
        <view class="order-footer">
          <text class="order-amount">Â¥{{ order.amount }}</text>
          <button @tap="viewDetail(order)">æŸ¥çœ‹è¯¦æƒ…</button>
        </view>
      </view>
    </RefreshList>
  </view>
</template>

<script>
export default {
  data() {
    return {
      orders: [],
      page: 1,
      pageSize: 20,
      noMore: false,
      loading: false
    }
  },

  mounted() {
    this.loadOrders()
  },

  methods: {
    async handleRefresh() {
      this.page = 1
      this.noMore = false
      await this.loadOrders()
    },

    async handleLoadMore() {
      if (this.loading || this.noMore) return

      this.page++
      await this.loadOrders()
    },

    async loadOrders() {
      if (this.loading) return

      this.loading = true

      try {
        const res = await this.$api.getOrders({
          page: this.page,
          pageSize: this.pageSize
        })

        if (this.page === 1) {
          this.orders = res.data.list
        } else {
          this.orders.push(...res.data.list)
        }

        // åˆ¤æ–­æ˜¯å¦è¿˜æœ‰æ›´å¤š
        if (res.data.list.length < this.pageSize) {
          this.noMore = true
        }
      } catch (error) {
        console.error('åŠ è½½è®¢å•å¤±è´¥:', error)
        uni.showToast({
          title: 'åŠ è½½å¤±è´¥',
          icon: 'none'
        })
      } finally {
        this.loading = false
      }
    },

    viewDetail(order) {
      uni.navigateTo({
        url: `/pages/orders/detail?id=${order.id}`
      })
    }
  }
}
</script>
```

---

## ğŸ¯ æœ€ä½³å®è·µ

### 1. æ»‘åŠ¨åˆ é™¤æœ€ä½³å®è·µ

#### åˆç†çš„æ“ä½œæŒ‰é’®æ•°é‡

```javascript
// âœ… æ¨èï¼š2-3ä¸ªæ“ä½œæŒ‰é’®
const actions = [
  { text: 'ç¼–è¾‘', type: 'primary', width: 80 },
  { text: 'åˆ é™¤', type: 'danger', width: 80 }
]

// âŒ ä¸æ¨èï¼šè¿‡å¤šçš„æ“ä½œæŒ‰é’®
const actions = [
  { text: 'ç¼–è¾‘', type: 'primary', width: 60 },
  { text: 'åˆ†äº«', type: 'info', width: 60 },
  { text: 'ç½®é¡¶', type: 'warning', width: 60 },
  { text: 'æ”¶è—', type: 'success', width: 60 },
  { text: 'åˆ é™¤', type: 'danger', width: 60 }
]
```

#### å±é™©æ“ä½œäºŒæ¬¡ç¡®è®¤

```javascript
handleActionClick({ action }) {
  if (action.text === 'åˆ é™¤') {
    uni.showModal({
      title: 'ç¡®è®¤åˆ é™¤',
      content: 'åˆ é™¤åæ— æ³•æ¢å¤ï¼Œç¡®å®šè¦åˆ é™¤å—ï¼Ÿ',
      success: (res) => {
        if (res.confirm) {
          this.deleteItem()
        }
      }
    })
  }
}
```

#### æ“ä½œåé¦ˆ

```javascript
async deleteItem() {
  uni.showLoading({ title: 'åˆ é™¤ä¸­...' })

  try {
    await this.$api.deleteOrder(this.orderId)

    uni.hideLoading()
    uni.showToast({
      title: 'åˆ é™¤æˆåŠŸ',
      icon: 'success'
    })

    // ä»åˆ—è¡¨ä¸­ç§»é™¤
    this.orders = this.orders.filter(o => o.id !== this.orderId)
  } catch (error) {
    uni.hideLoading()
    uni.showToast({
      title: 'åˆ é™¤å¤±è´¥',
      icon: 'none'
    })
  }
}
```

### 2. é•¿æŒ‰èœå•æœ€ä½³å®è·µ

#### åˆç†çš„é•¿æŒ‰æ—¶é—´

```vue
<!-- âœ… æ¨èï¼š500msï¼Œæ—¢ä¸ä¼šè¯¯è§¦ï¼Œä¹Ÿä¸ä¼šå¤ªæ…¢ -->
<LongPressMenu :duration="500">

<!-- âŒ ä¸æ¨èï¼šå¤ªçŸ­å®¹æ˜“è¯¯è§¦ -->
<LongPressMenu :duration="200">

<!-- âŒ ä¸æ¨èï¼šå¤ªé•¿ç”¨æˆ·ä½“éªŒå·® -->
<LongPressMenu :duration="1000">
```

#### èœå•é¡¹åˆ†ç»„

```javascript
// ä½¿ç”¨åˆ†éš”ç¬¦æˆ–ä¸åŒé¢œè‰²åŒºåˆ†ä¸åŒç±»å‹çš„æ“ä½œ
const menuItems = [
  // å¸¸ç”¨æ“ä½œ
  { text: 'æŸ¥çœ‹', icon: 'ğŸ‘ï¸', value: 'view' },
  { text: 'ç¼–è¾‘', icon: 'âœï¸', value: 'edit' },

  // å±é™©æ“ä½œï¼ˆä½¿ç”¨ä¸åŒé¢œè‰²æˆ–æ”¾åœ¨æœ€åï¼‰
  { text: 'åˆ é™¤', icon: 'ğŸ—‘ï¸', value: 'delete' }
]
```

#### æ ¹æ®çŠ¶æ€åŠ¨æ€ç”Ÿæˆèœå•

```javascript
getMenuItems(item) {
  const items = []

  // åŸºç¡€æ“ä½œ
  items.push({ text: 'æŸ¥çœ‹è¯¦æƒ…', icon: 'ğŸ‘ï¸', value: 'view' })

  // æ ¹æ®çŠ¶æ€æ·»åŠ æ“ä½œ
  if (item.canEdit) {
    items.push({ text: 'ç¼–è¾‘', icon: 'âœï¸', value: 'edit' })
  }

  if (item.canShare) {
    items.push({ text: 'åˆ†äº«', icon: 'ğŸ“¤', value: 'share' })
  }

  if (item.canDelete) {
    items.push({ text: 'åˆ é™¤', icon: 'ğŸ—‘ï¸', value: 'delete' })
  }

  return items
}
```

### 3. ä¸‹æ‹‰åˆ·æ–°æœ€ä½³å®è·µ

#### åˆç†çš„åˆ·æ–°é€»è¾‘

```javascript
async handleRefresh() {
  // é‡ç½®åˆ†é¡µ
  this.page = 1
  this.noMore = false

  try {
    // åŠ è½½ç¬¬ä¸€é¡µæ•°æ®
    const res = await this.$api.getList({ page: 1, pageSize: 20 })

    // æ›¿æ¢åˆ—è¡¨æ•°æ®ï¼ˆä¸æ˜¯è¿½åŠ ï¼‰
    this.list = res.data.list

    // åˆ¤æ–­æ˜¯å¦è¿˜æœ‰æ›´å¤š
    if (res.data.list.length < 20) {
      this.noMore = true
    }
  } catch (error) {
    console.error('åˆ·æ–°å¤±è´¥:', error)
  }
}
```

#### é˜²æ­¢é‡å¤è¯·æ±‚

```javascript
data() {
  return {
    refreshing: false,
    loading: false
  }
},

async handleRefresh() {
  if (this.refreshing) return

  this.refreshing = true

  try {
    await this.loadData()
  } finally {
    this.refreshing = false
  }
},

async handleLoadMore() {
  if (this.loading || this.noMore) return

  this.loading = true

  try {
    await this.loadData()
  } finally {
    this.loading = false
  }
}
```

#### é”™è¯¯å¤„ç†

```javascript
async loadData() {
  try {
    const res = await this.$api.getList({
      page: this.page,
      pageSize: this.pageSize
    })

    // å¤„ç†æ•°æ®...
  } catch (error) {
    console.error('åŠ è½½å¤±è´¥:', error)

    // æ˜¾ç¤ºé”™è¯¯æç¤º
    uni.showToast({
      title: 'åŠ è½½å¤±è´¥ï¼Œè¯·é‡è¯•',
      icon: 'none'
    })

    // å¦‚æœæ˜¯åŠ è½½æ›´å¤šå¤±è´¥ï¼Œå›é€€é¡µç 
    if (this.page > 1) {
      this.page--
    }
  }
}
```

### 4. æ€§èƒ½ä¼˜åŒ–

#### ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨

```vue
<!-- å¯¹äºè¶…é•¿åˆ—è¡¨ï¼ˆ1000+é¡¹ï¼‰ï¼Œä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨ -->
<VirtualList
  :data="longList"
  :item-height="120"
  height="100vh"
>
  <template #default="{ item }">
    <SwipeAction :actions="actions">
      <view class="list-item">
        {{ item.name }}
      </view>
    </SwipeAction>
  </template>
</VirtualList>
```

#### èŠ‚æµæ»šåŠ¨äº‹ä»¶

```javascript
import { throttle } from '@/utils/performance'

export default {
  methods: {
    handleScroll: throttle(function(e) {
      // å¤„ç†æ»šåŠ¨äº‹ä»¶
      console.log('æ»šåŠ¨ä½ç½®:', e.detail.scrollTop)
    }, 200)
  }
}
```

#### å›¾ç‰‡æ‡’åŠ è½½

```vue
<RefreshList>
  <view v-for="item in list" :key="item.id">
    <!-- ä½¿ç”¨æ‡’åŠ è½½å›¾ç‰‡ç»„ä»¶ -->
    <LazyImage
      :src="item.image"
      width="100%"
      height="400rpx"
    />
  </view>
</RefreshList>
```

---

## ğŸ”§ æ•…éšœæ’æŸ¥

### å¸¸è§é—®é¢˜

#### 1. æ»‘åŠ¨åˆ é™¤ä¸æµç•…

**åŸå› **:
- åˆ—è¡¨é¡¹å†…å®¹è¿‡äºå¤æ‚
- æ²¡æœ‰ä½¿ç”¨ key
- é¢‘ç¹çš„æ•°æ®æ›´æ–°

**è§£å†³æ–¹æ¡ˆ**:
```vue
<!-- âœ… ä½¿ç”¨å”¯ä¸€çš„ key -->
<SwipeAction
  v-for="item in list"
  :key="item.id"
  :actions="actions"
>

<!-- âœ… ç®€åŒ–åˆ—è¡¨é¡¹ç»“æ„ -->
<view class="list-item">
  <text>{{ item.name }}</text>
  <text>{{ item.status }}</text>
</view>

<!-- âœ… ä½¿ç”¨è®¡ç®—å±æ€§ç¼“å­˜æ•°æ® -->
computed: {
  displayList() {
    return this.list.map(item => ({
      id: item.id,
      name: item.name,
      status: item.statusText
    }))
  }
}
```

#### 2. é•¿æŒ‰èœå•æ— æ³•è§¦å‘

**åŸå› **:
- é•¿æŒ‰æ—¶é—´è®¾ç½®è¿‡é•¿
- è§¦æ‘¸ç§»åŠ¨è·ç¦»è¿‡å¤§
- çˆ¶å…ƒç´ é˜»æ­¢äº†äº‹ä»¶

**è§£å†³æ–¹æ¡ˆ**:
```vue
<!-- è°ƒæ•´é•¿æŒ‰æ—¶é—´ -->
<LongPressMenu :duration="500">

<!-- ç¡®ä¿çˆ¶å…ƒç´ ä¸é˜»æ­¢äº‹ä»¶ -->
<view @touchmove.stop.prevent>
  <LongPressMenu>
    <!-- å†…å®¹ -->
  </LongPressMenu>
</view>
```

#### 3. ä¸‹æ‹‰åˆ·æ–°å’Œé¡µé¢æ»šåŠ¨å†²çª

**åŸå› **:
- scroll-view é«˜åº¦è®¾ç½®ä¸æ­£ç¡®
- åµŒå¥—æ»šåŠ¨å®¹å™¨

**è§£å†³æ–¹æ¡ˆ**:
```vue
<!-- âœ… è®¾ç½®å›ºå®šé«˜åº¦ -->
<RefreshList height="calc(100vh - 88rpx)">

<!-- âŒ é¿å…åµŒå¥—æ»šåŠ¨ -->
<scroll-view>
  <RefreshList>
    <!-- å†…å®¹ -->
  </RefreshList>
</scroll-view>
```

---

## ğŸ“š å‚è€ƒèµ„æº

- [uni-app è§¦æ‘¸äº‹ä»¶](https://uniapp.dcloud.net.cn/tutorial/syntax-js.html#%E4%BA%8B%E4%BB%B6)
- [å¾®ä¿¡å°ç¨‹åºæ‰‹åŠ¿](https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html)
- [ç§»åŠ¨ç«¯æ‰‹åŠ¿åº“ Hammer.js](https://hammerjs.github.io/)

---

**æ–‡æ¡£ç»´æŠ¤**: å¨å¨æˆ¿è½¦æŠ€æœ¯å›¢é˜Ÿ
**æœ€åæ›´æ–°**: 2025-12-06
**ç‰ˆæœ¬**: v1.0.0
